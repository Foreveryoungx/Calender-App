{"version":3,"sources":["app.js"],"names":["months","daysOfWeek","gridsize","state","month","Date","getMonth","year","getFullYear","datesForGrid","dates","firstDay","getDay","totalDaysInMonth","getDate","totalDaysInPrevMonth","i","prevMonthDate","key","toLocaleString","push","date","monthClass","today","todayClass","length","count","render","calendarApp","document","querySelector","innerHTML","map","day","join","showCalendar","prevNextIndicator","addEventListener","ev","target","id"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["// Months array\nconst months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n// Days of the Week\nconst daysOfWeek = ['S','M','T','W','TH','F','SA'];\nlet gridsize = 42; //Total number of date boxes in the grid\n\n// Default the state to current month and year.\nlet state = {\n  month: new Date().getMonth(),\n  year: new Date().getFullYear(),\n}\n\n// The following function builds an array of objects with dates to be displayed in the grid\nfunction datesForGrid(year, month) {\n  // days array holds all the days to be populated in the grid\n  let dates = [];\n  // Day on which the month starts\n  let firstDay = new Date(year, month).getDay(); \n  // Total number of days in the month\n  let totalDaysInMonth = new Date(year, month + 1, 0).getDate();\n  // Total number of days in the previous month\n  let totalDaysInPrevMonth = new Date(year, month, 0).getDate();\n  \n  // Days from prev month to show in the grid\n  for(let i = 1; i <= firstDay; i++) {\n    let prevMonthDate = totalDaysInPrevMonth - firstDay + i;\n    let key = new Date(state.year, state.month -1, prevMonthDate).toLocaleString();    \n    dates.push({key: key, date: prevMonthDate, monthClass:'prev'});\n  }\n  // Days of the current month to show in the grid\n  let today = new Date();\n  for(let i = 1; i <= totalDaysInMonth; i++) {\n    let key = new Date(state.year, state.month, i).toLocaleString();\n    if(i === today.getDate() && state.month === today.getMonth() && state.year === today.getFullYear()) {\n      dates.push({key: key, date: i, monthClass: 'current', todayClass: 'today'})\n    } else{ \n      dates.push({key: key, date: i, monthClass: 'current'});\n    }\n  }\n  \n  // If there is space left over in the grid, then show the dates for the next month\n  if(dates.length < gridsize) {\n    let count = gridsize - dates.length;\n    for(let i = 1; i <= count; i++) {\n      let key = new Date(state.year, state.month + 1, i).toLocaleString();\n      dates.push({key: key, date: i, monthClass:'next'});\n    }\n  }\n  return dates;\n}\n\nfunction render() {  \n  let calendarApp = document.querySelector('[data-app=calendar-app]');\n  // Building the calendar app HTML from the data\n  calendarApp.innerHTML = `\n      <div class=\"calendar-nav\">\n        <button id=\"prev-month\">Previous</button>\n        <h2>${months[state.month]} ${state.year}</h2>\n        <button id=\"next-month\">Next</button>\n      </div>\n      <div class='calendar-grid'>\n        ${ daysOfWeek.map(day => `<div>${day}</div>` ).join('') }\n        ${ datesForGrid(state.year, state.month).map(date => `<div id=\"${date.key}\" class=\"${date.monthClass} ${date.todayClass ? date.todayClass : ''}\">${date.date}</div>`).join('') }\n      </div>\n  `;\n}\n\nfunction showCalendar(prevNextIndicator) {\n  let date = new Date(state.year, state.month + prevNextIndicator);\n  //Update the state\n  state.year = date.getFullYear();\n  state.month = date.getMonth();  \n  render();\n}\n\n// Show the current month by default\nshowCalendar(0);\n\ndocument.addEventListener('click', function(ev) {\n  if(ev.target.id === 'prev-month') {\n    showCalendar(-1);\n  }\n  if(ev.target.id === 'next-month') {\n    showCalendar(1);\n  }\n});"]}